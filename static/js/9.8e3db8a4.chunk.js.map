{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","useStores","HistoryStore","UserStore","useEffect","reset","currentUser","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","rel","href","tip","History","style","fontSize","color","List"],"mappings":"wVAOA,IAAMA,E,MAAMC,EAAOC,IAAV,KAwDMC,EAhDGC,aAAS,WAAO,IAAD,EACIC,cAA1BC,EADsB,EACtBA,aAAaC,EADS,EACTA,UAWpB,OANAC,qBAAU,WACN,OAAO,WACHF,EAAaG,WAGnB,CAACF,EAAUG,cAET,6BACI,kBAAC,IAAD,CACIC,aAAa,EACbC,UAAW,EACXC,SAfK,WACbP,EAAaQ,QAeLC,SAAUT,EAAaU,WAAaV,EAAaS,QACjDE,WAAW,GAEX,kBAAC,IAAD,CACIC,WAAYZ,EAAaa,KACzBC,WACI,SAAAC,GAAI,OAAI,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IACzB,6BACI,kBAACxB,EAAD,CAAKyB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE7C,6BACI,4BAAKN,EAAKK,WAAWE,WAEzB,6BACI,uBAAGC,OAAO,SAAUC,IAAI,sBACrBC,KAAMV,EAAKK,WAAWC,IAAID,WAAWC,KADxC,gCAMXrB,EAAaU,WAAaV,EAAaS,SACpC,6BACI,kBAAC,IAAD,CAAMiB,IAAI,8BC3CvBC,UATf,WACI,OACI,oCACI,wBAAIC,MAAO,CAACC,SAAS,OAAOC,MAAM,YAAlC,kCACA,kBAACC,EAAD","file":"static/js/9.8e3db8a4.chunk.js","sourcesContent":["import React, {useEffect} from \"react\"\nimport {observer} from \"mobx-react\"\nimport {useStores} from \"../stores\"\nimport InfiniteScroll from 'react-infinite-scroller'\nimport {List, Spin} from \"antd\"\nimport styled from \"styled-components\"\n\nconst Img = styled.img`\nwidth:100px;\nheight:120px;\nobject-fit:contain;\nborder:1px solid #ccc;\n`\n\n\nconst Component = observer(() => {\n    const {HistoryStore,UserStore} = useStores()\n    const loadMore = () => {\n        HistoryStore.find()\n    }\n\n    useEffect(() => {\n        return () => {\n            HistoryStore.reset()\n        }\n        // eslint-disable-next-line\n    },[UserStore.currentUser])\n    return (\n        <div>\n            <InfiniteScroll\n                initialLoad={true}\n                pageStart={0}\n                loadMore={loadMore}\n                hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n                useWindow={true}\n            >\n                <List\n                    dataSource={HistoryStore.list}\n                    renderItem={\n                        item => <List.Item key={item.id}>\n                            <div>\n                                <Img src={item.attributes.url.attributes.url}/>\n                            </div>\n                            <div>\n                                <h5>{item.attributes.filename}</h5>\n                            </div>\n                            <div>\n                                <a target=\"_blank\"  rel=\"noopener noreferrer\"\n                                   href={item.attributes.url.attributes.url}>点击预览</a>\n                            </div>\n                        </List.Item>\n                    }\n                >\n                    {HistoryStore.isLoading && HistoryStore.hasMore && (\n                        <div>\n                            <Spin tip=\"加载中\"/>\n                        </div>\n                    )}\n                </List>\n            </InfiniteScroll>\n        </div>\n    )\n})\nexport default Component","import React from \"react\"\nimport List from '../components/List'\n\nfunction History() {\n    return (\n        <>\n            <h1 style={{fontSize:\"16px\",color:\"#8896B3\"}}>上传历史：</h1>\n            <List/>\n        </>\n    )\n}\n\nexport default History;\n\n\n"],"sourceRoot":""}